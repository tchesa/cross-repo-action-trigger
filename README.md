# cross-repo-action-trigger

This is an example code that automatically fetch latest assets, make a new code build, bump library to a new version and commit whenever other repository updates.

This is a demo library that depends on a (file generated by another repository)[https://github.com/tchesa/cross-repo-action-trigger-A/blob/master/petstore.yaml]. That repository has a (workflow)[https://github.com/tchesa/cross-repo-action-trigger-A/blob/master/.github/workflows/trigger.yml] that triggers our deploy workflow whenever that specific file gets changed.

## Requirements

Trigger worflow & Auto commit steps requires Github's access token with repository credentials. You have to create a secret with that token in both repositories.

## For private repositories

To fetch a file from a private repository, add this header into curl command:
`curl -H 'Authorization: token ${{ secrets.G_ACCESS_TOKEN }}' ...`
